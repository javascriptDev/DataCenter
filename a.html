<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title></title>
</head>
<body>


<script>

	Array.prototype.distinct = function () {
		var a = this.sort(function (v1, v2) {
			return v1 > v2;
		})
		var s = {}
		var arr = [];
		var arrR = [];

		for (var i = 0; i < a.length; i++) {
			if (s[a[i]]) {
				s[a[i]]['c'] += 1;
			} else {
				s[a[i]] = {
					c: 1
				}
			}
		}

		for (var i in s) {
			s[i].v = i;
			arr.push(s[i]);
		}

		arr.sort(function (v1, v2) {
			return v1.c < v2.c;
		}).forEach(function (v) {
			arrR.push(v.v);
		})

		return {
			count: Object.keys(s).length,
			arr: arrR
		}
	}

	console.time('a')
	console.log(Array.prototype.distinct.call([1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 6, 7, 8, 9, 9, 9]));
	console.timeEnd('a');


</script>
</body>
</html>

